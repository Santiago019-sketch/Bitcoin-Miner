-- Protection and Cleanup
if game:GetService("CoreGui"):FindFirstChild("Orion") then 
    game:GetService("CoreGui"):FindFirstChild("Orion"):Destroy()
end

-- Load Orion Library with protection
local OrionLib = loadstring(game:HttpGet(('https://raw.githubusercontent.com/shlexware/Orion/main/source')))()

-- Create Window
local Window = OrionLib:MakeWindow({
    Name = "BCMX - Midnight Hub",
    HidePremium = false,
    SaveConfig = true,
    IntroEnabled = true,
    IntroText = "BCMX Loading...",
    ConfigFolder = "BCMX"
})

-- Services
local RS = game:GetService("ReplicatedStorage")
local Players = game:GetService("Players")
local LP = Players.LocalPlayer

-- Variables
local BitcoinAmount = 50
local AutoFarmEnabled = false

-- Main Tab
local MainTab = Window:MakeTab({
    Name = "Main",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

-- Main Section
local ExchangeSection = MainTab:AddSection({
    Name = "Exchange"
})

ExchangeSection:AddSlider({
    Name = "Bitcoin Amount",
    Min = 1,
    Max = 1000,
    Default = 50,
    Color = Color3.fromRGB(255,255,255),
    Increment = 1,
    ValueName = "",
    Callback = function(Value)
        BitcoinAmount = Value
    end    
})

ExchangeSection:AddButton({
    Name = "Exchange Bitcoin",
    Callback = function()
        for i = 1, BitcoinAmount do
            RS.Events.ExchangeMoney:FireServer(true)
            task.wait(0.1)
        end
    end    
})

ExchangeSection:AddToggle({
    Name = "Auto Farm Bitcoin",
    Default = false,
    Callback = function(Value)
        AutoFarmEnabled = Value
        while AutoFarmEnabled do
            RS.Events.ExchangeMoney:FireServer(true)
            task.wait(0.1)
        end
    end    
})

-- Player Tab
local PlayerTab = Window:MakeTab({
    Name = "Player",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

-- Player Section
local PlayerSection = PlayerTab:AddSection({
    Name = "Local Player"
})

PlayerSection:AddSlider({
    Name = "Walk Speed",
    Min = 16,
    Max = 100,
    Default = 16,
    Color = Color3.fromRGB(255,255,255),
    Increment = 1,
    ValueName = "",
    Callback = function(Value)
        if LP.Character and LP.Character:FindFirstChild("Humanoid") then
            LP.Character.Humanoid.WalkSpeed = Value
        end
    end    
})

PlayerSection:AddButton({
    Name = "Remove Level Barriers",
    Callback = function()
        for _, v in pairs(game.Workspace:GetChildren()) do
            for _, child in pairs(v:GetChildren()) do
                if child:FindFirstChildOfClass("TouchTransmitter") and 
                   child:FindFirstChildOfClass("SurfaceGui") then
                    child:Destroy()
                end
            end
        end
    end    
})

-- Misc Tab
local MiscTab = Window:MakeTab({
    Name = "Misc",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

-- Credits Section
local CreditsSection = MiscTab:AddSection({
    Name = "Credits"
})

CreditsSection:AddParagraph("Credits","Original script by Midnight Hub")
CreditsSection:AddParagraph("Modified Version","Enhanced and modified version")

-- Initialize
OrionLib:Init()

-- Notification when loaded
OrionLib:MakeNotification({
    Name = "Script Loaded",
    Content = "BCMX is now ready to use!",
    Image = "rbxassetid://4483345998",
    Time = 5
})

-- Keep UI alive
game:GetService("RunService").RenderStepped:Connect(function()
    if not game:GetService("CoreGui"):FindFirstChild("Orion") then
        OrionLib:Init()
    end
end)

-- Anti kick
local OldNameCall = nil
OldNameCall = hookmetamethod(game, "__namecall", function(...)
    local Args = {...}
    local Self = Args[1]
    if getnamecallmethod() == "Kick" then
        return nil
    end
    return OldNameCall(...)
end)
